# A document can have any number of runs
# Runs don't have to be in order in the document, but if they are it'll go slightly faster
# Only the prompt is requineon for a run. When a value is left out the last known one is used
# You can stop the last value from being used by passing False for it

# You can reference other prompts and image outputs with '[ref]':
# prompt, image_prompt, init_image: '[prior_run], [pneonefined_prompt]'
# pneonefined prompts are fields in the object root that only have a string
# { title: 'Woah', neon_prompt: 'Billowing Neon Lights', neon_run: { prompt: '[neon_prompt]' } }
# Using a prior run will replace the the prompt or image output with the value from that run
# prompt reference updates happen before any parsing

# Prompt structure is parts seperated by modifiers, starting and ending with a part:
#   part->mod->part->mod->part
# Parts are one or more concurrent prompts with an optional duration
# These will be added and removed over the course of the run
# Modifiers adjust the current prompt list somehow before adding the next one:
# --: Remove the newest prompt
# __: Remove the oldest prompt
# ++: Add the next prompt (technically does nothing as the next prompt is always added)
# ||: Clear all prompts
# {n}: Run this part n times longer than the others, can be placed anywhere in the part
# eg: 'a++b{2}--c__d||e&&f'
#   Run a -> add b -> remove b, add c -> remove a, add d -> remove everything, add e and f
#   b will be run twice as long as the others, i.e. 1:2:1:1 ratio
# Inside each part you can run prompts concurrently with &&:
# a&&b: Run a and b at the same time, they are treated as a pair for {} but not -- and __
#   They're just pushed onto the prompt list like normal

title: Neon Demo
neon: dynamic billowing neon fireworks
space: outer space sky ocean galaxy
lush: lush valley landscape leaves
g_cycle: '__[lush]__[neon]__[space]'
b_cycle: '__[space]__[lush]__[neon]'
r_cycle: '__[neon]__[space]__[lush]'
test:
  prompt: 'Neon'
  iterations: 100
concur:
  prompt: '[neon]&&[space]&&[lush]'
  iterations: 150
  images: 50
rgb_add:
  prompt: '[neon]++[space]++[lush]'
rgb_sub:
  prompt: '[neon]&&[space]&&[lush]||[neon]&&[space]||[lush]'
rgb_add_grow:
  prompt: '[neon]++[space]{1.5}++[lush]{2}'
rg_gb_br_clear:
  prompt: '[neon]&&[lush]||[lush]&&[space]||[space][neon]'
rgb_cycle_long:
  iterations: 2000
  images: 400
  prompt: '[neon]++[space][g_cycle][b_cycle][r_cycle][r_cycle][g_cycle][b_cycle]'